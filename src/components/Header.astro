---
import HeaderLink from './HeaderLink.astro';
import UpButton from './UpButton.astro';
import { SITE_TITLE } from '../consts';
import { readFileSync } from 'fs';
const { lang } = Astro.props;

const diccionario = {
    email: {
        es: 'Correo Electr√≥nico',
        en: 'Email'
    },
}

---

<UpButton lang={ lang }/>
<header id="header-top" class="header-top">
    <ul>
        <li>
            <div class="header-top-left">
                <ul>
                    <li class="select-opt">
                        <select name="language" id="language">
                            <option value="es" selected={ lang== 'es' ? true : false }>ES</option>
                            <option value="en" selected={ lang== 'en' ? true : false }>EN</option>
                        </select>
                    </li>
                </ul>
            </div>
        </li>
        <li class="head-responsive-right pull-right">
            <div class="header-top-right">
                <ul>
                    <li class="header-top-contact">
                        <a href="https://t.me/Paynalton" target="_blank" title="Telegram">
                            <i class="fa-brands fa-telegram"></i> Telegram
                        </a>
                    </li>
                    <li class="header-top-contact">
                        <a href="mailto:cxescalona@gmail.com" target="_blank" title="Email">
                            <i class="fa fa-envelope"></i> {diccionario.email[lang]}
                        </a>
                    </li>
                </ul>
            </div>
        </li>
    </ul>
            
</header>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const languageSelect = document.getElementById('language');
        languageSelect?.addEventListener('change', function() {
            const selectedLanguage = this.value;
            const currentUrl = window.location.href;
            const newUrl = currentUrl.replace(/\/(es|en)\//, `/${selectedLanguage}/`);
            window.location.href = newUrl;
        });
    });
	
</script>
